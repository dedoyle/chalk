<ion-view class="expense" view-title="{{ today }}">
  <ion-nav-buttons side="right">
    <button class="button button-icon icon ion-calendar" data-ng-click="expense.cleanup()"></button>
    <button data-ng-click="expense.goToAddExpense()" class="button button-icon icon ion-plus"></button>
  </ion-nav-buttons>
  <ion-content class="assertive-bg light">
    <div class="footing row">
      <div class="col">CNY</div>
      <div class="col sum">{{ expense.items | sumOfItems:'money' }}</div>
    </div>
    <ion-list>
      <ion-item data-ng-repeat="item in expense.items | orderBy: 'date':false">
        <div data-ng-click="expense.goToDetail(item)">
          <i class="icon {{ item.icon }}"></i>
          <span>{{ item.name }}</span>
          <span class="item-note">{{ item.money }}</span>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
  <ion-footer-bar class="bar-stable row">
    <div class="piggy col-25">
      <i class="icon-pig"></i>
      <p class="percentage">{{ expense.percentage }}%</p>
    </div>
    <div class="budget-wrap col-75">
      <div class="budget-content">
        <div class="budget-left">
          <p class="money">￥{{ expense.remainingBudget }}</p>
          <p class="desc">剩余预算</p>
        </div>
        <div class="budget-right">
          <p class="money">/￥{{ expense.budget }}</p>
          <p class="desc">预算总额</p>
        </div>
      </div>
    </div>
  </ion-footer-bar>
</ion-view>
